{"name": "Авторизация с корректными данными", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидается переход на главную страницу, текущий URL: https://foodgram-frontend-1.prakticum-team.ru/signin", "trace": "self = <tests.test_login.TestUserLogin object at 0x107202c10>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"98cde576058c96037a249876be706525\")>\nbase_url = 'https://foodgram-frontend-1.prakticum-team.ru'\n\n    @allure.title(\"Авторизация с корректными данными\")\n    @allure.description(\"\"\"\n    Тестовый сценарий:\n    1. Нажать кнопку «Войти»\n    2. Заполнить все поля формы авторизации\n    3. Нажать кнопку «Войти»\n    4. Проверить:\n       - Произошёл ли переход на главную страницу\n       - Отображается ли кнопка «Выход»\n    \"\"\")\n    def test_login(self, driver: WebDriver, base_url: str):\n        \"\"\"Тест авторизации пользователя\"\"\"\n        # Тестовые данные\n        test_username = \"Test_USer\"\n        test_password = \"Test1234!\"\n    \n        # Прикрепить данные к отчёту Allure\n        allure.attach(\n            f\"Username: {test_username}\",\n            name=\"test_data\",\n            attachment_type=allure.attachment_type.TEXT\n        )\n    \n        # Шаг 1: Открыть главную страницу\n        with allure.step(\"Открыть главную страницу\"):\n            driver.get(base_url)\n    \n        # Шаг 2: Нажать кнопку «Войти»\n        with allure.step(\"Нажать кнопку 'Войти'\"):\n            home_page = HomePage(driver)\n            home_page.click_login_link()\n    \n        # Шаг 3: Заполнить все поля формы авторизации\n        with allure.step(\"Заполнить форму авторизации\"):\n            login_page = LoginPage(driver)\n            login_page.login(\n                username=test_username,\n                password=test_password\n            )\n    \n        # Шаг 4: Проверить переход на главную страницу\n        with allure.step(\"Проверить переход на главную страницу\"):\n>           login_page.is_url_valid()\n\ntests/test_login.py:55: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.login_page.LoginPage object at 0x1072eb620>\n\n    def is_url_valid(self) -> None:\n        \"\"\"Проверить что URL содержит 'recipes' после авторизации (переход на главную)\"\"\"\n        current_url = self.driver.current_url.lower()\n>       assert \"recipes\" in current_url or \"home\" in current_url, \\\n            f\"Ожидается переход на главную страницу, текущий URL: {self.driver.current_url}\"\nE       AssertionError: Ожидается переход на главную страницу, текущий URL: https://foodgram-frontend-1.prakticum-team.ru/signin\n\npages/login_page.py:49: AssertionError"}, "description": "\n    Тестовый сценарий:\n    1. Нажать кнопку «Войти»\n    2. Заполнить все поля формы авторизации\n    3. Нажать кнопку «Войти»\n    4. Проверить:\n       - Произошёл ли переход на главную страницу\n       - Отображается ли кнопка «Выход»\n    ", "steps": [{"name": "Открыть главную страницу", "status": "passed", "start": 1765724393827, "stop": 1765724394380}, {"name": "Нажать кнопку 'Войти'", "status": "passed", "start": 1765724394380, "stop": 1765724394521}, {"name": "Заполнить форму авторизации", "status": "passed", "start": 1765724394521, "stop": 1765724394683}, {"name": "Проверить переход на главную страницу", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидается переход на главную страницу, текущий URL: https://foodgram-frontend-1.prakticum-team.ru/signin\n", "trace": "  File \"/Users/klim/PycharmProjects/Sprint_9/tests/test_login.py\", line 55, in test_login\n    login_page.is_url_valid()\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/klim/PycharmProjects/Sprint_9/pages/login_page.py\", line 49, in is_url_valid\n    assert \"recipes\" in current_url or \"home\" in current_url, \\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1765724394683, "stop": 1765724394685}], "attachments": [{"name": "test_data", "source": "7db4472e-4c94-4de2-9cc7-2a5c77846b99-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "22752dd5-5fb3-4baa-8283-ee2fac42ca50-attachment.txt", "type": "text/plain"}], "start": 1765724393827, "stop": 1765724394686, "uuid": "8d2dd7e0-73c2-4922-b87e-814e3a803c9a", "historyId": "9bc385569f03feae520e84d5f8449f23", "testCaseId": "9bc385569f03feae520e84d5f8449f23", "fullName": "tests.test_login.TestUserLogin#test_login", "labels": [{"name": "feature", "value": "Authentication"}, {"name": "story", "value": "User Login"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestUserLogin"}, {"name": "host", "value": "MacBook-Air-2.local"}, {"name": "thread", "value": "18295-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_login"}]}